<script src="block.js"></script>
<script src="board.js"></script>
<script src="colors.js"></script>
<script src="game.js"></script>
<script src="piece.js"></script>
<script src="control.js"></script>
<script src="shape.js"></script>


<body style="background-color: #0f2543;">
	<h1 style="text-align: center;font-size: 4.5em;margin-bottom: 0;font-family: Arial, Helvetica, sans-serif;font-weight: lighter;">TETRIS</h1>
	<h2 style="margin-bottom: 15px; margin-top: 0;text-align: center;">C:Pause   |   V:Un-Pause</h2>
	<div style="display: flex;">
		<div style="margin: auto;">

			<h1 id="p1GameOver"
			style="position: absolute;
			color: azure;
			top: 40%;
			width: 395px;
			text-align: center;
			font-size: 4em;
			display: none;">Game Over</h1>

			<canvas
			style="
				width: 395px;
				height: 776px;
				border: 5px solid rgb(0, 164, 208);
				box-shadow: 0px 0px 15px 3px #1aa1bb;
			"
			width="395px"
			height="776px"
			id="gc"
			></canvas>

		</div>

		<div style="margin: auto;">

			<h1 id="p2GameOver"
			style="position: absolute;
			color: azure;
			top: 40%;
			width: 395px;
			text-align: center;
			font-size: 4em;
			display: none;">Game Over</h1>

			<canvas
			style="
				width: 395px;
				height: 776px;
				border: 5px solid rgb(0, 164, 208);
				box-shadow: 0px 0px 15px 3px #1aa1bb;
			"
			width="395px"
			height="776px"
			id="gc2"
			></canvas>

		</div>
		

	</div>

  </body>

<script>
	window.onload = function() {
		//Create a 2d render context on page load
		canvas = document.getElementById( "gc" );
		ctx = canvas.getContext("2d");
		
		canvas2 = document.getElementById( "gc2" );
		ctx2 = canvas2.getContext("2d");

		//Render Constants.
		RENDER_FPS = 60;
		GAME_FPS = 1;

		//Get text elements and give them to the game to use
		g1Text = document.getElementById("p1GameOver");
		g2Text = document.getElementById("p2GameOver");

		//View and Model objects
		var g  = new Game(ctx , g1Text);
		var g2 = new Game(ctx2, g2Text);

		//Start the render and update cycles at their defined FPS
		g.renderInterval = setInterval( g.board.renderSelf.bind(g.board) , 1000 / RENDER_FPS );
		g.updateInterval = setInterval( g.update.bind(g) , 1000 / GAME_FPS );


		g2.renderInterval = setInterval( g2.board.renderSelf.bind(g2.board) , 1000 / RENDER_FPS );
		g2.updateInterval = setInterval( g2.update.bind(g2) , 1000 / GAME_FPS );
	}
</script>